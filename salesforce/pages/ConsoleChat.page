<apex:page >
    <apex:includeScript value="/support/console/41.0/integration.js"/>

    <script type="text/javascript">
        var eventHandler = function (result) {
            alert('New chat request');
        }
        
        function testSetAgentInput() {
            //Get the value for 'myChatKey'from the sforce.console.chat.getDetailsByPrimaryTabId() or other chat methods. 
            //These values are for example purposes only
            var chatKey = 'myChatKey';
            var text = 'This is example text to set the agent input'
            sforce.console.chat.setAgentInput(chatKey, text, setAgentInputSuccess);
        }
        
        function setAgentInputSuccess(result) {
            //Report whether setting the agent's input was succesful
            if (result.success == true) {
                alert('The text in the agent input has been updated');
            } else {
                alert('Setting the agent input was not Succesful');
            }
        };
    
        sforce.console.chat.onChatRequested(eventHandler);
    </script>
    <p id="testMsg">Empty</p>
</apex:page>